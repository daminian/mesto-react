{"version":3,"sources":["components/Footer.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","index.js","images/logo.svg"],"names":["Footer","className","Header","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","item","key","PopupWithForm","title","cildren","isOpen","onClose","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","required","minLength","maxLength","placeholder","onChange","e","target","value","id","preventDefault","EditAvatarPopup","onUpdateAvatar","userAvatar","useRef","defaultValue","ref","current","AddPlacePopup","onAddPlaseSubmit","setLink","ImagePopup","state","api","options","this","_url","url","_headers","headers","data","fetch","method","authorization","body","JSON","stringify","then","res","ok","json","Promise","reject","status","Error","_addLike","_deliteLike","all","getInitialCards","getUserInfo","App","setCurrentUser","setCards","editProfileIsOpen","isEditProfilePopupOpen","addCardIsOpen","isAddPlacePopupOpen","editAvatarIsOpen","isEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","getAppInfo","userInfo","user","cardsList","catch","err","console","log","Provider","props","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","updateProfileInfo","updateAvatar","postNewCard","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.96fbb765.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className=\"footer root__content\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header root__content\">\r\n        <div className=\"header__menu\">\r\n            <img src={logo} alt=\"\" className=\"header__logo\"/>\r\n        </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `cards__trash ${isOwn ? '' : 'cards__trash_hidden'}`\r\n    ); \r\n    \r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `cards__like ${isLiked ? 'cards__like_active' : ''}`\r\n    )\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n    \r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card)\r\n    } \r\n\r\n    return (\r\n        <div className=\"cards\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img src={`${card.link}`} alt=\"\" className=\"cards__photo\" onClick={handleClick}/>\r\n            <h2 className=\"cards__name\">{card.name}</h2>\r\n            <div className=\"cards__like-container\"> \r\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                <span className=\"cards__like-counter\">{card.likes.length}</span> \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport Card from './Card.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nconst Main = ({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) => {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return(\r\n        <main className=\"main root__content\">\r\n        <section className=\"profile\">\r\n            <div className=\"profile__section\">\r\n                <div className=\"profile__avatar\" onClick={onEditAvatar}><img style={{ backgroundImage: `url(${currentUser.avatar})` }} alt=\"\" className=\"profile__image\"/></div>\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <p className=\"profile__job\">{currentUser.about}</p>\r\n                <button className=\"profile__edit \" onClick={onEditProfile}></button>\r\n            </div>\r\n            <button className=\"profile__add\" onClick={onAddPlace}></button>\r\n        </section>\r\n        <section className=\"grid\">\r\n            {cards.map(item => <Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>)}\r\n        </section>\r\n    </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\nconst PopupWithForm = ({name, title, cildren, isOpen, onClose, onSubmit}) => {\r\n    return (<section className={`popup popup-${name} ${isOpen ? (\"popup_opened\"):(\"\")}`}>\r\n        <div className=\"popup__container\">\r\n            <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n            <form className=\"popup__form\" name={name} noValidate onSubmit={onSubmit}>\r\n                <h3 className=\"popup__title popup__profile-title\">{title}</h3>\r\n                {cildren}\r\n                <button type=\"submit\" className=\"popup__button\">Сохранить</button>\r\n            </form>\r\n        </div>\r\n    </section>)\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser]); \r\n\r\n    return (\r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" cildren={\r\n            <>\r\n            <label className=\"popup__label\">\r\n            <input type=\"text\" name=\"name\" className=\"popup__input popup__name\" required minLength=\"2\"\r\n                maxLength=\"40\" placeholder=\"Имя\" onChange={handleNameChange} value={name}/>\r\n            <span id=\"name-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n            <input type=\"text\" name=\"job\" className=\"popup__input popup__job\" required minLength=\"2\"\r\n                maxLength=\"200\" placeholder=\"Занятие\" onChange={handleDescriptionChange} value={description}/>\r\n            <span id=\"job-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            </>\r\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const userAvatar = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(userAvatar.current.value)\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" cildren={\r\n            <>\r\n            <label className=\"popup__label\">\r\n                <input type=\"url\" name=\"url\" className=\"popup__input popup__avatar-links\" placeholder=\"Ссылка на аватарку\" required defaultValue={currentUser.avatar} ref={userAvatar}/>\r\n                <span id=\"url-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            </>\r\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlaseSubmit}) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value)\r\n    }\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlaseSubmit({\r\n            name: name,\r\n            link: link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"add\" title=\"Новое место\" cildren={\r\n            <>\r\n            <label className=\"popup__label\">\r\n                <input type=\"text\" name=\"mesto\" className=\"popup__input popup__mesto\" placeholder=\"Название\"\r\n                    required minLength=\"1\" maxLength=\"30\" onChange={handleNameChange} value={name}/>\r\n                <span id=\"mesto-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n                <input type=\"url\" name=\"url\" className=\"popup__input popup__links\"\r\n                    placeholder=\"Ссылка на картинку\" required onChange={handleLinkChange} value={link}/>\r\n                <span id=\"url-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            </>\r\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup({onClose, card}) {\r\n    return (\r\n        <section className={`popup popup-card ${card.state && (\"popup_opened\")}`}>\r\n        <div className=\"popup__form\">\r\n            <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n            <figure className=\"popup__image-container\"><img src={card.src} alt=\"\" className=\"popup__image\"/>\r\n            <figcaption className=\"popup__image-title\">{card.name}</figcaption>\r\n            </figure>\r\n        </div>\r\n    </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n    constructor(options) {\r\n        this._url = options.url\r\n        this._headers = options.headers\r\n    }\r\n\r\n    updateAvatar(data) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ \"avatar\": data }),\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    updateProfileInfo(data) {\r\n        return fetch(`${this._url}/users/me`, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: `${data.name}`,\r\n                    about: `${data.about}`\r\n                }),\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    authorization: this._headers\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n            })\r\n    }\r\n\r\n    postNewCard(card) {\r\n        return fetch(`${this._url}/cards`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: card.name,\r\n                    link: card.link\r\n                }),\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if (isLiked === true) {\r\n            return this._addLike(id);\r\n        } else {\r\n            return this._deliteLike(id);\r\n        }\r\n    }\r\n\r\n    _addLike(id) {\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n    _deliteLike(id) {\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    getAppInfo() {\r\n        return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n    }\r\n\r\n    _getResponseData(data) {\r\n        if (data.ok) {\r\n            return data.json()\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-15',\r\n    headers: '8ba8ee25-f796-4e6c-83bd-8c6087015f7d'\r\n})\r\n\r\nexport default api","import React from 'react';\nimport Footer from './Footer.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport EditPofilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n  const [editProfileIsOpen , isEditProfilePopupOpen] = React.useState(false)\n  const [addCardIsOpen , isAddPlacePopupOpen] = React.useState(false)\n  const [editAvatarIsOpen , isEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({state:false, src: ''});\n\n  function handleCardClick(props) {\n    setSelectedCard({state: true, src: props.link, name: props.name})\n  }\n\n  function handleEditProfileClick() {\n    isEditProfilePopupOpen(true)\n  }\n\n  function handleAddCardClick() {\n    isAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    isEditAvatarPopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    isEditProfilePopupOpen(false)\n    isAddPlacePopupOpen(false)\n    isEditAvatarPopupOpen(false)\n    setSelectedCard({state:false})\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.updateProfileInfo({name, about})\n    .then((user) => {\n      setCurrentUser(user)\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })   \n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.updateAvatar(avatar)\n    .then((avatar) => {\n     setCurrentUser(avatar)\n     closeAllPopups()\n    })\n    .catch((err) => {\n     console.log(err)\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n        console.log(err)\n    })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n        const newCards = cards.filter((item) => {\n          return item._id !== card._id\n        });\n        setCards(newCards);\n    })\n    .catch((err) => {\n        console.log(err)\n    })\n  }\n  \n  function handleAddPlaceSubmit(card) {\n    api.postNewCard(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  React.useEffect(() => {\n    api.getAppInfo()\n        .then((data) => {\n            data = {cards: data[0],user: data[1]}\n            const userInfo = ({\n                name: data.user.name,\n                about: data.user.about,\n                avatar: data.user.avatar,\n              _id: data.user._id\n            })\n            const cardsList = data.cards.map((item) => ({\n              _id: item._id,\n              name: item.name,\n              likes: item.likes,\n              link: item.link,\n              owner: item.owner\n            }))\n            setCurrentUser(userInfo)\n            setCards(cardsList)\n        })\n        .catch((err) => {\n            console.log(err)\n        })\n  },[])\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <Header />\n    <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddCardClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} \n    cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\n    <Footer />\n    <EditPofilePopup isOpen={editProfileIsOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n    <EditAvatarPopup isOpen={editAvatarIsOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n    <AddPlacePopup isOpen={addCardIsOpen} onClose={closeAllPopups} onAddPlaseSubmit={handleAddPlaceSubmit}/>\n    <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.d3d4a407.svg\";"],"sourceRoot":""}